<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="../resources/theme1/template/layout.xhtml">

	<!-- Redefinition de la zone 'content' du layout  	-->
	<ui:define name="content" id="content">
		<h2>Liste des Comptes</h2>
		<article class="row"> <section>

		<div class="col-md-6">
			<h:dataTable class="datatable" var="com"
				value="#{clientbean.ListeComptesParClient()}" rowClasses="datarow"
				columnClasses="datacol, datacol" headerClass="dataheader">
				<h:column>
					<span class="listcol"></span>
					<f:facet id="headercol" name="header">Type Compte</f:facet>
					#{com['class'].simpleName}
				</h:column>
				<h:column>
					<span class="listcol"></span>
					<f:facet id="headercol" name="header">Numero Compte</f:facet>
					${com.numeroCompte}
				</h:column>
				<h:column>
					<span class="listcol"></span>
					<f:facet id="headercol" name="header">Solde</f:facet>
					${com.solde}
				</h:column>
				<h:column>
					<span class="listcol"></span>
					<f:facet id="headercol" name="header">date ouverture</f:facet>
					${com.dateOuverture}
				</h:column>
				<h:column>
					<span class="listcol"></span>
					<f:facet id="headercol" name="header">Autorisation decouvert</f:facet>
					<h:outputText
						rendered="#{com.class.name eq 'fr.gtm.proxibanquesiv4.metier.CompteCourant'}"
						value="${com.authDecouvert}" />
				</h:column>
				<h:column>
					<span class="listcol"></span>
					<f:facet id="headercol" name="header">Taux remunération</f:facet>
					<h:outputText
						rendered="#{com.class.name eq 'fr.gtm.proxibanquesiv4.metier.CompteEpargne'}"
						value="${com.tauxRemuneration}" />
				</h:column>
				<h:column>
					<span class="listcol"></span>
					<f:facet id="headercol" name="header">Virer</f:facet>
					
				</h:column>

			</h:dataTable>
			
			
			<br />
			<br />
			<br />
			<h:form>
				<label>Numero compte débiteur :</label> <br /> 
				<h:inputText id="vcc" name="vcc" label="numero compte debiteur" type="text" value="#{virementbean.numCompteDebiteur}" required="true" requiredMessage="Veuillez entrer un numero du compte debiteur">
					<f:validateLongRange minimum="1"/>
				</h:inputText> 
				<h:message for="vcc" styleClass="error" style="color:red"/> <br />
				<label>Numéro compte créditeur :</label> <br />
				<h:inputText id="vcd" name="vcd" label="numero compte crediteur" type="text" value="#{virementbean.numCompteCrediteur}" required="true" requiredMessage="Veuillez entrer un numero du compte crediteur">
					<f:validateLongRange minimum="1"/>
				</h:inputText> 
				<h:message for="vcd" styleClass="error" style="color:red"/> <br />
				<label>Montant</label> <br /> 
				<h:inputText  id="vmt" name="vmt" label="virememt" type="text" value="#{virementbean.montant}" required="true"  requiredMessage="Veuillez entrer un montant de virement">
					<f:validateDoubleRange minimum="0.05"/>
				</h:inputText> 
				<h:message for="vmt" styleClass="error" style="color:red"/> <br />
				<br />
				<h:commandButton type="submit" action="#{virementbean.virer()}" value="Effectuer un virement"></h:commandButton><br/>
			</h:form>
			
			<h:link value="Index" outcome="index" />

		</div>

		<div class="col-md-6"></div>


		</section> </article>

	</ui:define>

</ui:composition>

